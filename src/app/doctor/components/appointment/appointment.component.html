<div class="flex w-full h-full">
  <!-- Lista de citas agendadas -->
  <div class="w-2/3 h-full p-2 flex flex-col gap-2">
    <div class="flex flex-col gap-4 h-full w-full overflow-hidden">
      <h1 class="font-bold text-xl">Citas agendadas</h1>
      <div class="flex flex-col gap-2 overflow-scroll p-2">
        <!-- Repetir este bloque por cada cita -->
        <div class="specialty border p-4 rounded shadow hover:bg-gray-50 flex justify-between items-center"
          *ngFor="let a of citas">

          <!-- Información de la cita -->
          <div class="flex-1">
            <h3 class="font-semibold">Consulta con Dr. {{a.medico.nombre}} {{a.medico.apellido}}</h3>
            <p><span class="font-medium">Paciente:</span> {{a.paciente.nombre}} {{a.paciente.apellido}}</p>
            <p><span class="font-medium">Tipo de consulta:</span> {{a.tipoConsulta.nombreTipo}}</p>
            <p><span class="font-medium">Fecha:</span> {{a.fechaCita}}</p>
            <p><span class="font-medium">Hora:</span> {{a.horaCita}}</p>
            <p><span class="font-medium">Costo total:</span> ${{a.costoTotal.toFixed(2)}}</p>

            <!-- Multiselect para servicios adicionales -->
            <div class="mt-3">
              <label class="block text-sm font-medium mb-1">Servicios adicionales</label>
              <select multiple class="w-full border rounded p-1" (change)="onServicesChange(a.idCita, $event)">
                <option *ngFor="let servicio of aditionalServices" [value]="servicio.idServicio">
                  {{ servicio.nombreServicio }}
                </option>
              </select>
            </div>

            <!-- Botón para guardar -->
            <button (click)="guardarServiciosAdicionales(a.idCita)"
              class="mt-2 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm transition">
              Guardar servicios
            </button>
          </div>

          <!-- Botones alineados a la derecha -->
          <div class="flex flex-col gap-2">
            <button (click)="terminarCita(a.idCita)"
              class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm transition">
              Terminar Cita
            </button>
          </div>

        </div>

      </div>
    </div>
  </div>

  <!-- Formulario para agendar / editar cita -->
  
</div>